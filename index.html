<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>snoowrap Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.dark.css">

	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">snoowrap</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="snoowrap.html">snoowrap</a></li><li><a href="RedditContent.html">RedditContent</a></li><li><a href="ReplyableContent.html">ReplyableContent</a></li><li><a href="VoteableContent.html">VoteableContent</a></li><li><a href="Comment.html">Comment</a></li><li><a href="RedditUser.html">RedditUser</a></li><li><a href="Submission.html">Submission</a></li><li><a href="LiveThread.html">LiveThread</a></li><li><a href="PrivateMessage.html">PrivateMessage</a></li><li><a href="Subreddit.html">Subreddit</a></li><li><a href="MultiReddit.html">MultiReddit</a></li><li><a href="WikiPage.html">WikiPage</a></li><li><a href="Listing.html">Listing</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	
	











	
	





    <section class="readme-section">
        <article><h1>snoowrap <a href="https://travis-ci.org/not-an-aardvark/snoowrap"><img src="https://travis-ci.org/not-an-aardvark/snoowrap.svg?branch=master" alt="Build Status"></a></h1><p>A simple Node.js wrapper for the reddit API. (<a href="https://not-an-aardvark.github.io/snoowrap">Documentation</a>)</p>
<h3>Features</h3><p>snoowrap supports every API endpoint, and provides a simple interface to access each of them. The method to get a user profile is just <code>get_user()</code>, and the method to upvote something is just <code>upvote()</code>. There's no need to look up REST endpoints or deal with low-level HTTP requests.</p>
<p>If you've used <a href="https://praw.readthedocs.org/en/stable/">PRAW</a>, you'll probably find a lot of snoowrap's syntax to be familiar. However, aside from being written in a different language, there are a few important differences:</p>
<ul>
<li>Unlike PRAW, snoowrap is non-blocking; all API calls are async and return bluebird Promises. This means that you can handle asynchronous events however you want, and you can use snoowrap as part of a larger process without it holding everything back.</li>
<li>Each snoowrap object is completely independent. If you want, you can have scripts from separate accounts make requests at the same time.</li>
</ul>
<p>snoowrap's objects are structured to keep the syntax as simple as possible. So the following expression:</p>
<pre class="prettyprint source lang-javascript"><code>r.get_submission('2np694').body</code></pre><p>...will return a Promise. So will this one:</p>
<pre class="prettyprint source lang-javascript"><code> r.get_submission('2np694').author.name
 // --> returns a Promise for the string 'DO_U_EVN_SPAGHETTI'
 // (this submission's author's name)</code></pre><p>The above will return a Promise for the author's name, without having to deal with callback hell or <code>.then</code> statements. You can chain multiple API calls together:</p>
<pre class="prettyprint source lang-javascript"><code>r.get_submission('2np694').subreddit.get_moderators()[0].name
// --> returns a Promise for the string 'krispykrackers'
// (this submission's subreddit's first mod's name)</code></pre><p>...or chain actions together with fluent syntax:</p>
<pre class="prettyprint source lang-javascript"><code>r.get_subreddit('snoowrap')
  .submit_selfpost({title: 'Discussion Thread', text: 'Hello! This is a thread'})
  .sticky()
  .distinguish()
  .ignore_reports()
  .assign_flair({text: 'Exciting Flair Text', css_class: 'modpost'})</code></pre><p>snoowrap handles all API interactions such as authentication, ratelimiting, error correction, and HTTP requests under the hood. That way, you can write less boilerplate code and focus more on doing what you actually want to do.</p>
<ul>
<li>After you provide a token once, snoowrap will refresh it on its own from then on -- you won't have to worry about authentication again.</li>
<li>snoowrap uses lazy objects, so it never fetches more than it needs to.</li>
<li>snoowrap has built-in ratelimit protection. If you hit reddit's ratelimit, you can choose to queue the request, and then run it after the current ratelimit period runs out. That way you won't lose a request if you go a bit too fast.</li>
<li>snoowrap will retry its request a few times if reddit returns an error due to its servers being overloaded.</li>
</ul>
<p>For more examples of what can be done with snoowrap, take a look at the <a href="https://not-an-aardvark.github.io/snoowrap">documentation</a> or the <a href="https://github.com/not-an-aardvark/snoowrap/blob/master/test/snoowrap.spec.js">test file</a>.</p>
<hr>
<h3>Simple example file</h3><pre class="prettyprint source lang-javascript"><code>'use strict';
const snoowrap = require('snoowrap');

/* Create a new snoowrap requester. If you're uncomfortable storing confidential info in your file, one solution is to
simply store it in a json file and require() it. For more information on how to get valid credentials, see here: https://github.com/not-an-aardvark/reddit-oauth-helper */
const r = new snoowrap({
  client_id: 'put your client id here',
  client_secret: 'put your client secret here',
  refresh_token: 'put your refresh token here'
});

/* That's the entire setup process, now you can just make requests. I would recommend including async functions in your project
by using babel.js (or some equivalent), but this example file uses vanilla Promises for simplicity. */

// Submitting a link to a subreddit
r.get_subreddit('gifs').submit_link({
  title: 'Mt. Cameramanjaro',
  url: 'https://i.imgur.com/n5iOc72.gifv'
});

// Printing a list of the titles on the front page
r.get_hot().map(post => post.title).then(console.log);

// Replying to comments that match certain criteria
r.get_new_comments().fetch_until(500).forEach(comment => {
  if (comment.body === 'ayy') {
    comment.reply('lmao'); // (look at me I'm so original)
  }
});

// Automating moderation tasks
r.get_subreddit('some_subreddit_name').get_modqueue({limit: 100}).filter(/some-removal-condition/.test).forEach(flaggedItem => {
  flaggedItem.remove();
  flaggedItem.subreddit.ban_user(flaggedItem.author);
  // (Probably overkill here, but that's none of my business and pretty much any functionality is there if you want it)
});

// Automatically creating a stickied thread for a moderated subreddit
r.get_subreddit('some_subreddit_name')
  .create_selfpost({title: 'Daily thread', text: 'Discuss things here'})
  .sticky()
  .distinguish()
  .approve()
  .assign_flair({text: 'Daily Thread flair text', css_class: 'daily-thread'})
  .reply('This is a comment that appears on that daily thread');
  // etc. etc.

// Printing the content of a wiki page
r.get_subreddit('AskReddit').get_wiki_page('bestof').content_md.then(console.log);</code></pre><hr>
<h3>Live threads</h3><p>Reddit's <a href="https://www.reddit.com/r/live/wiki/index">live threads</a> are different from most other content, in that messages are distributed through websockets instead of a RESTful API. snoowrap fully supports this protocol under the hood, and it represents the content stream as an <a href="https://nodejs.org/api/events.html#events_class_eventemitter">EventEmitter</a>. For example, the following code will stream all livethread updates to the console as they appear:</p>
<pre class="prettyprint source lang-javascript"><code>r.get_livethread('whrdxo8dg9n0').stream.on('update', console.log);</code></pre><p>For more information, see snoowrap's <a href="https://not-an-aardvark.github.io/snoowrap/LiveThread.html">LiveThread documentation page</a>.</p>
<hr>
<h3>Important note regarding ES6</h3><p>snoowrap uses the <code>Proxy</code> object introduced in ES6. Since this is not yet included in Node by default, you will need to run your project with the <code>--harmony-proxies</code> runtime flag, e.g. <code>node --harmony-proxies yourProject.js</code>. With regard to running code in browsers, as of March 2016 the only browsers that support Proxies are Chrome 49+, Microsoft Edge, Firefox, and Opera.</p>
<p>If you <em>can't</em> use that node flag for some reason, or your code is running in a non-supporting browser, snoowrap will still function. However, method chaining as described above won't work, so your syntax will need to be a bit heavier.</p>
<p>For example:</p>
<pre class="prettyprint source lang-javascript"><code>// This works when run with node's --harmony-proxies flag, or with a browser that supports Proxies.
// However, it fails if Proxies are not available.
r.get_submission('47v7tm').comments[0].upvote();

// ----------

// This is equivalent and works on all platforms, but the syntax isn't as nice.
// Note: .get() and .call() are the standard bluebird utility methods.
r.get_submission('47v7tm').fetch().get('comments').get(0).call('upvote');</code></pre><hr>
<h3>To include in a project</h3><ol>
<li><code>npm install snoowrap --save</code></li>
<li><code>var snoowrap = require('snoowrap');</code></li>
</ol>
<h3>To build/run the tests independently</h3><ol>
<li><code>git clone https://github.com/not-an-aardvark/snoowrap.git</code></li>
<li><code>cd snoowrap</code></li>
<li><code>npm install</code></li>
<li><code>npm test</code></li>
</ol></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>